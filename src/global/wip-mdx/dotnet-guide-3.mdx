import SingleImage from "@/global/mdx/SingleImage/SingleImage";
import References from "@/global/mdx/References/References";
import CodeBlock from "@/global/mdx/CodeBlock/CodeBlock";
import Redirect from "@/global/mdx/Redirect/Redirect";
import Table from '@/global/mdx/Table/Table';

# A Little Detour

Hello everyone, and welcome back to my series on .NET.

Last week, we covered how to install .NET locally, how to create your first project, as well as making some first changes to it
(read it <Redirect name="here" url="/blogs/dotnet-guide-2"/>!). While we can continue working on that project for this episode, I believe it would make
more sense to take a deep dive into C#, the primary and most widely used language for .NET development, first.

C# is the building block for nearly every .NET project, so much so that becoming proficient in C# is practically a requirement to make large-scale
.NET projects. Therefore, for the next few episodes, we will be extensively covering everything you need to know in order to use this language effectively, from
the basics of this language to advanced knowledge and use cases. Note that we will be learning C# separately from .NET for these episodes, meaning if
you are using C# as part of another project (perhaps Unity), this detour will be helpful for you as well.

So, without further ado, let's get into the basics of C#.

# A General Guide to C#

C# (pronounced "C-sharp" (not "C-hash") (nor "C-pound")) is an object-oriented high-level programming language developed by Microsoft. It is designed to be
simple, powerful, type-safe, and versatile. While the language has "C" in its name, it is much closer to Java than C/C++ both conceptually and functionally.

Like Java, C# has traditionally been heavily object-oriented, meaning everything had to be wrapped in a class in order to compile, big or small. It was
only from C# 9+/.NET 6+ that single statements are valid just like Python (these are known as top-level statements). We will be making use of that for
this tutorial.

> Note: The best way to practice C# is to make an empty .NET project, then write all the C# code in there. For a guide on how to do so, check out the
<Redirect name="last episode" url="/blogs/dotnet-guide-2"/>!

# Basic Inputs, Basic Outputs

Any languages need the ability to communicate with the user. In the previous episode, we wrote a
greeting program that asks for your name and prints out a greeting for you. Let's take a look at the program once again:

<CodeBlock
    language="csharp"
    copiable={true}
    code={`Console.WriteLine("Welcome to my first .NET app!");

Console.Write("What's your name? ");
string? name = Console.ReadLine();

Console.WriteLine($"Nice to meet you, {name}!");`} />

C# has its own variety of functions to interact with the user. The very basics of which is contained in the `Console` class, which is a class in the C#
standard library that provides methods for input and output through the terminal. We can see some of these functions above, such as:

<Table
    columns={["Function", "Usage"]}
    content={[
        ["WriteLine", "Print a line to the terminal"],
        ["Write", "Similar to WriteLine, but doesn't begin a new line right after"],
        ["ReadLine", "Take an input (as a string) from the user"],
    ]}
/>

> Note: Changing the string in the parentheses `()` will change the message being printed out. Try to change the greeting to something you like!

# Variable Doesn't Like Writing. Instead, Variable Types

Ignoring the terrible pun, C# is first and foremost a strongly typed language, much like C/C++ and Java. This means every variable has to declare its
type explicitly before being used.

Declaring a variable in C# can be done as follows:

<CodeBlock language="csharp" code="<type> <variable-name> = <starting-value>;" />

`<type>` is the type of the variable. There are many variable types in C#, all of which fall into two categories: value types or reference types.

Value types store the actual value of the data directly. They are often small, and so can be passed around easily. The most common ones are:

<Table
    columns={["Type", "Example Value", "Description"]}
    content={[
        ["int", "42", "Integer (whole numbers)"],
        ["double", "3.14", "Double-precision decimal"],
        ["float", "3.14f", "Single-precision decimal"],
        ["bool", "true/false", "Boolean (true/false)"],
        ["char", "'A'", "Single character"]
    ]}
/>

Reference types, on the other hand, store a reference to the data (think of it as pointers in C/C++). Since the data used in reference types are
often quite big, instead of duplicating the data to pass it around, just sending the reference is much faster and
uses less memory. Some examples of these include:

<Table
    columns={["Type", "Example Value", "Description"]}
    content={[
        ["string", '"Hello"', "Text (sequence of chars)"],
        ["object", "any type", "Base type of all types"],
        ["array", "[1, 2, 3]", "Fixed-size collection of elements"]
    ]}
/>

Reference types are also special because they can have a `null` value. `null` essentially means the reference is pointing to nothing, think of it as a
pointer to an empty space. Since `null` is the lack of data, we sometimes want to think about whether a variable is nullable or not. Adding a question
mark (e.g. `string?`) after the type of a reference-type variable marks that it is nullable.

Let's take for example a variable we created above:

<CodeBlock language="csharp" code="string? name = Console.ReadLine();" copiable={true} />

Here, we are creating a variable named `name` with type `string?`. We set its starting value to the output of `Console.ReadLine()`, which is a string
as well. Since the function does return `null` if something goes wrong, we should be careful and make the variable nullable, hence the question mark.

Similarly, if you need to make a number type variable, such as `int`, we can create it as:

<CodeBlock language="csharp" code="int age = 21" copiable={true} />

Note that `int` is a value-type that can't be `null`, so a question mark is unnecessary.

# I'm Looking For Shoes Size 13, But All They've Got Is "13"

Sometimes, we need to change the type of the variable from one to another. For instance, user inputs via `Console.ReadLine()` are returned as strings,
but what if we need to make a calculator? We can't add strings together, but we can add numbers.

> Writer Note: Technically, there is string concatenation which is technically adding, but having `1` + `1` = `11` doesn't make sense in a calculator,
doesn't it?

Our solution is to change the string type to a number type, such as `int`. This process of changing variable types is known in the programming field as
casting. Casting can happen between vastly different data types (`string` to/from `int`), or similar ones but with different sizes
(`double` to/from `float` to/from `int`).

There are two types of casting in C#: implicit or explicit. Some conversions can be implicit, meaning you don't have to specify that you are casting
variables, C# will do it for you. Take this code snippet for example:

<CodeBlock
    language="csharp"
    copiable={true}
    code={`int myInt = 15;
double myDouble = myInt;

Console.WriteLine(myInt);
Console.WriteLine(myDouble);`} />

The output will be:

<CodeBlock
    language="csharp"
    code={`15
15`} />

This means `myDouble` has converted the data in `myInt` to a double. Implicit casting can typically be done automatically when passing a smaller size
type to a larger size type, such as `double` to `int`.

Some conversions needs to be done explicitly, meaning you have to tell C# to cast this variable or else it will throw an error. One way to do
this is by adding the variable type in parentheses before the data. For instance:

<CodeBlock
    language="csharp"
    copiable={true}
    code={`double myDouble = 15.07;
int myInt = (int)myDouble;

Console.WriteLine(myDouble);
Console.WriteLine(myInt);`} />

The output will be:

<CodeBlock
    language="csharp"
    code={`15.07
15`} />

This means `myInt` has converted the data in `myDouble` to an integer, shown by the lack of decimal places. Explicit casting must be done when passing a
larger size type to a smaller size type, such as `int` to `double`.

However, many conversions must be even more explicit, using dedicated methods. You can access these from the `Convert` class, which contains the
conversion functions for basic variable types. Examples includes:

<Table
    columns={["Method", "Converts From → To", "Example"]}
    content={[
        ["Convert.ToInt32()", "Anything → int", 'Convert.ToInt32("42")'],
        ["Convert.ToDouble()", "Anything → double", 'Convert.ToDouble("3.14")'],
        ["Convert.ToDecimal()", "Anything → decimal", 'Convert.ToDecimal("19.99")'],
        ["Convert.ToSingle()", "Anything → float", 'Convert.ToSingle("3.14")'],

        ["Convert.ToString()", "Any type → string", 'Convert.ToString(123)'],
        ["Convert.ToString()", "null → empty string", 'Convert.ToString(null)'],

        ["Convert.ToBoolean()", '"true", 1 → true', 'Convert.ToBoolean("true")'],
        ["Convert.ToBoolean()", '"false", 0 → false', 'Convert.ToBoolean("false")'],

        ["Convert.ToChar()", "From string (length 1) or number → char", 'Convert.ToChar("A")']
    ]}
/>

For our use case, let's say we are taking a decimal number from the user. We can do it as follows:

<CodeBlock
    language="csharp"
    copiable={true}
    code={`Console.Write("Enter a number: ");
string input = Console.ReadLine();

double number = Convert.ToDouble(input);
Console.WriteLine("You entered: " + number);`}
/>

The program will print out the number you typed in, provided it is a valid number.

# Operation Operators

Finally, C# has a variety of operators to helps these variables interact with each other. These include arithmetic, bitwise,
assignment, comparison, and logical operators. While this list is far from exhaustive, these operators will be more than enough for your general use.

## Arithmetic

Arithmetic operators are just math symbols with some extra flavors. These includes:

<Table
    columns={["Operator", "Name", "Description", "Example"]}
    content={[
        ["+", "Addition", "Adds together two values", "x + y"],
        ["-", "Subtraction", "Subtracts one value from another", "x - y"],
        ["*", "Multiplication", "Multiplies two values", "x * y"],
        ["/", "Division", "Divides one value by another", "x / y"],
        ["%", "Modulus", "Returns the division remainder", "x % y"],
        ["++", "Increment", "Increases the value of a variable by 1", "x++"],
        ["--", "Decrement", "Decreases the value of a variable by 1", "x--"]
    ]}
/>

## Bitwise

Bitwise operators are used with boolean and binary variables, mostly when you are a hardcore coder. These includes:

<Table
    columns={["Operator", "Name", "Description", "Example"]}
    content={[
        ["&", "Bitwise AND", "Performs logical AND on each pair of bits", "x & y"],
        ["|", "Bitwise OR", "Performs logical OR on each pair of bits", "x | y"],
        ["^", "Bitwise XOR", "Returns 1 if bits are different", "x ^ y"],
        ["~", "Bitwise NOT (Complement)", "Inverts each bit (unary operator)", "~x"],
        ["<<", "Left Shift", "Shifts bits to the left (multiplies by 2 per shift)", "x << 2"],
        [">>", "Right Shift", "Shifts bits to the right (divides by 2 per shift)", "x >> 2"]
    ]}
/>

## Assignment

Assignment operators are a shorthand to combine arithmetic or bitwise operators and assigning them to variables. These includes:

<Table
    columns={["Operator", "Example", "Same As"]}
    content={[
        ["=", "x = 5", "x = 5"],
        ["+=", "x += 3", "x = x + 3"],
        ["-=", "x -= 3", "x = x - 3"],
        ["*=", "x *= 3", "x = x * 3"],
        ["/=", "x /= 3", "x = x / 3"],
        ["%=", "x %= 3", "x = x % 3"],
        ["&=", "x &= 3", "x = x & 3"],
        ["|=", "x |= 3", "x = x | 3"],
        ["^=", "x ^= 3", "x = x ^ 3"],
        [">>=", "x >>= 3", "x = x >> 3"],
        ["<<=", "x <<= 3", "x = x << 3"]
    ]}
/>

## Comparison

Comparison operators compare two variables and returns `true` or `false`. These includes:

<Table
  columns={["Operator", "Name", "Example"]}
  content={[
    ["==", "Equal to", "x == y"],
    ["!=", "Not equal", "x != y"],
    [">", "Greater than", "x > y"],
    ["<", "Less than", "x < y"],
    [">=", "Greater than or equal to", "x >= y"],
    ["<=", "Less than or equal to", "x <= y"]
  ]}
/>

## Logical

And finally, logical operators are used to determine the logic between variables or values. These includes:

<Table
  columns={["Operator", "Name", "Example"]}
  content={[
    ["&&", "And", "x && y"],
    ["||", "Or", "x || y"],
    ["!", "Not", "!x"]
  ]}
/>

# Conclusion

And that's it for now. We have tackled some of the basic knowledge around C#, mostly regarding I/O and variables. Note that we are not done: there are
still plenty of concepts we need to talk about C# in order to use the language effectively, so look out for those in the upcoming weeks.

Make sure to give this post a like and share it with your friends. If you have any feedback, perhaps an idea for a blog, send me an email and I'll respond as
soon as I can. For now, have fun learning!

<References ref={[
    {
        name: "C# Tutorial",
        author: "W3Schools",
        url: "https://www.w3schools.com/cs/index.php"
    },
]}/>